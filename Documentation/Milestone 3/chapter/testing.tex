\chapter{Testing}
\label{ch:testing}

    This chapter will detail the acceptance testing that the group carried out to confirm that the developed prototype adheres to the user requirements and specifications that the client previously accepted in our Milestone 1 document. The chapter will be split into test cases for the different areas of the developed system. For example, a section on the test cases specifically tested the efficiency of the systems' load times. Each test case will be assigned a test code for ease of reference, along with a list of requirements or specifications it helps to meet, a description of the test case itself, a brief description of the acceptance criteria and the result of the test case. In the case that a test case does not completely meet the acceptance criteria, the test case will include a reason section that explains why the test did not fully meet the acceptance criteria.
    
    Although the Milestone 1 document included an agreed user requirement and specification section, we have since come to realise that import specifications and requirements were omitted from that document. This is because as we developed code, we gained a deeper understanding of the task at hand and further specifications and requirements became apparent. In the case that a test case aims to help solve a requirement or specification that was not included in Milestone 1, we will detail the requirement or specification without a reference to a requirement code. Otherwise, the requirement will be included along with its code to allow for simple referencing to previous requirements documentation.

    Testing before this round of acceptance testing utilised standard embedded system testing along with integration testing. An example of this would be the testing that took place to implement the feature that plays an audio file from an SD card. A standalone system that transfers an audio file from the SD card to SPIFFS was developed initially and tested to ensure that the system itself was functional. It was at this point that we identified the issue with load times that was previously mentioned in section \ref{subsec:sdfat}. Once we had developed a fully functional standalone system of the feature being implemented, we moved on to implementing that feature with the wider system. Following this, integration testing was utilised to ensure that the feature being added was functional with the rest of the system.

    The strategy for the following acceptance tests was to identify the key areas of the software system and generate test cases for those areas that would ensure that the system was able to meet the previously declared user requirements. Some key areas of the system that were being tested allowed us to identify multiple specifications and requirements that were omitted from the original requirements document. Each of the following test cases was executed multiple times to ensure robustness in the system and feature under test. We should also state that the following test cases were carried out on the final prototype. Therefore, these tests were not carried out on previously developed systems that contain standalone features and were instead carried out on the final system that incorporates all features working simultaneously.

    \todo{Impact/Resistance testing for prototype casing}

    \section{System Boot}
    \label{sec:test_boot}

        This section will include the test cases that tested the behaviour of the system when booting, more specifically the speed of initial boot and how the system notifies the user that it is powered on.

        \vspace{1em}
        \input{chapter/testing/wearable/wearable_BOOT01}

        \vspace{4em}
        \input{chapter/testing/wearable/wearable_BOOT02}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_BOOT01}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_BOOT02}

    \section{System Initialisation}
    \label{sec:test_init}

        System initialisation handles the configuration of hardware components connected to each of the walking aid and wearable devices. Within this section, we will include test cases that test the functionality of the system when initialisation errors are encountered, as well as efficiency testing of the systems when performing initialisation tasks.

        \vspace{1em}
        \input{chapter/testing/wearable/wearable_INIT01}

        \vspace{4em}
        \input{chapter/testing/wearable/wearable_INIT02}

        \vspace{4em}
        \input{chapter/testing/wearable/wearable_INIT03}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_INIT01}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_INIT02}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_INIT03}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_INIT04}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_INIT05}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_INIT06}

    \section{Walking Detection}
    \label{sec:test_walking_detection}

        With the walking detection feature of the system being the most crucial to implement correctly, this section will include acceptance tests for the system's walking detection functionality. The wearable device will be tested for its walking detection, with the walking aid device being tested for its tap detecting feature.

        \vspace{1em}
        \input{chapter/testing/wearable/wearable_WALK01.tex}

        \vspace{4em}
        \input{chapter/testing/wearable/wearable_WALK02.tex}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_WALK01.tex}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_WALK02.tex}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_WALK03.tex}

    \section{Communications}
    \label{sec:test_comms}

        To allow the walking aid device to understand when the wearable device is moving, a communication system needed to be developed. To ensure that the communication system is functioning as intended, we designed test cases that ensure that both devices can communicate with each other when necessary. Those test cases can be seen below.

        \vspace{1em}
        \input{chapter/testing/wearable/wearable_COMMS01.tex}

        \vspace{4em}
        \input{chapter/testing/wearable/wearable_COMMS02.tex}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_COMMS01.tex}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_COMMS02.tex}

    \section{Reminders}
    \label{sec:test_reminders}

        This section will include acceptance tests for the system's reminder feature. The basis of this project is to ensure that patients are reminded to take their walking aids with them when they start walking. Therefore, this feature must be complete. The wearable device includes a vibration reminder should the user be hard of hearing, and the walking aid device includes an audio reminder system.

        \vspace{1em}
        \input{chapter/testing/wearable/wearable_REM01.tex}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_REM01.tex}

    \section{Impact and Strength}
    \label{sec:test_strength}

        This section will include acceptance tests for the system's physical attributes, due to the nature of the device, it must be able to handle falls and impacts, and continue to work afterwards.

        \vspace{1em}
        \input{chapter/testing/wearable/wearable_IMPCT01.tex}

        \vspace{4em}
        \input{chapter/testing/walking aid/walking_aid_IMPCT01.tex}

